#define _CRT_SECURE_NO_WARNINGS
#include <stdio.h>
#include <stdlib.h>
#include <math.h>

int main(void) {
	int data[365][2], i, j,l,min_1,max_1,min_2,max_2,b;
	float mean_1, mean_2, std_1, std_2, sum_1 = 0, sum_2 = 0, num_1=0, num_2=0;
	//initialize pointer variables for reading and writing
	FILE *pointer,*pointer2;
	pointer = fopen("1930_2001.csv", "r");

	//scan data into a 365 by 2 martix
	for (i = 0; i <=364; i++) {
		fscanf(pointer, "%d,%d", &data[i][0], &data[i][1]);
		printf("%d\t%d\n", data[i][0],data[i][1]);
	}
	fclose(pointer); //close document
	
	for (j = 0; j <= 364; j++) {
		sum_1+=data[j][0];          //compute sum each column
		sum_2+=data[j][1];
	}
	mean_1 = sum_1 / 365;               //compute average of each row
	mean_2 = sum_2 / 365;              
	printf("\n\nThe average temperature in 1930 was %f\nThe average temperature in \
2001 was %f", mean_1, mean_2);
	
	for (l = 0; l <= 364; l++) {
		num_1 = num_1+pow((data[l][0] - mean_1), 2);    //compute numerator of standard deviation
		num_2 = num_2+pow((data[l][1] - mean_2), 2);
	}

	std_1 = pow((num_1 / 364), .5);       //finish computing standard deviation
	std_2 = pow((num_2 / 364), .5);
	printf("\n\nThe standard deviation of the 1930 data is %f\nThe standard deviation of \
the 2001 data is %f", std_1, std_2);


	min_1 = data[0][0];
	min_2 = data[0][1];
	max_1 = data[0][0];                     //calculate maxs and mins of data
	max_2 = data[0][1];
	for (b = 1; b <= 364; b++) {
		if (data[b][0] < min_1) {
			min_1 = data[b][0];
		}
		if (data[b][1] < min_2) {
			min_2 = data[b][1];
		}
		if (data[b][0] > max_1) {
			max_1 = data[b][0];
		}
		if (data[b][1] > max_2) {
			max_2 = data[b][1];
		}
	}

	printf("\n\n min_1=%d  min_2=%d  max_1=%d  max_2=%d", min_1,min_2,max_1,max_2);




	pointer2 = fopen("results.dat", "w");    // open/create results

	fprintf(pointer2, "mean of 1930: %f standard deviation of 1930: %f\
\nmean of 2001: %f standard deviation of 2001: %f", mean_1, std_1, mean_2, std_2); // write data to file in user friendly way

	fclose(pointer2);     //close document

	
	
		system("pause");

}
